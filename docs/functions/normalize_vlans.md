---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "normalize_vlans function - terraform-provider-utils"
subcategory: ""
description: |-
  Normalize VLAN IDs and ranges into a compact string format or list of integers
---

# function: normalize_vlans

Takes an object with optional `ids` (list of integers) and `ranges` (list of objects with `from`/`to` fields) and a required `format` parameter. Returns a normalized representation as either a string or list of integers. In string format, 3 or more consecutive IDs are grouped into ranges (e.g., '10-20'), while individual or pairs of VLANs are listed separately (e.g., '1,2' not '1-2'). Both `ids` and `ranges` fields are optional and can be omitted from the input object.

## Example Usage

```terraform
# Mixed VLANs with string format
output "mixed_vlans_string" {
  description = "Mixed individual VLANs and ranges as string"
  value = provider::utils::normalize_vlans({
    ids = [1, 2, 5]
    ranges = [
      { from = 10, to = 20 },
      { from = 40, to = 50 }
    ]
  }, "string")
}

# Individual VLANs with list format
output "individual_vlans_list" {
  description = "Individual VLANs as list of integers"
  value = provider::utils::normalize_vlans({
    ids = [100, 200, 300, 400]
  }, "list")
}

# VLAN ranges with list format
output "ranges_list" {
  description = "VLAN ranges expanded as list of integers"
  value = provider::utils::normalize_vlans({
    ranges = [
      { from = 10, to = 12 },
      { from = 20, to = 22 }
    ]
  }, "list")
}

/*
Expected outputs:

mixed_vlans_string = "1,2,5,10-20,40-50"
individual_vlans_list = [100, 200, 300, 400]
ranges_list = [10, 11, 12, 20, 21, 22]

Note: Range notation (e.g., "10-20") is only used for 3 or more consecutive VLANs.
Individual or pairs of VLANs are listed separately (e.g., "1,2" not "1-2").
*/
```

## Signature

<!-- signature generated by tfplugindocs -->
```text
normalize_vlans(input dynamic, format string) dynamic
```

## Arguments

<!-- arguments generated by tfplugindocs -->
1. `input` (Dynamic) An object containing optional `ids` (list of VLAN IDs) and `ranges` (list of objects with `from` and `to` fields). Both fields are optional and can be omitted from the input object.
1. `format` (String) Required output format: 'string' for compact range notation (e.g., '1,2,5,10-30' where ranges are only used for 3+ consecutive VLANs) or 'list' for array of individual VLAN IDs (e.g., [1,2,5,10,11,12,...,30]).

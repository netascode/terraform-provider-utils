---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "utils_yaml_merge Data Source - terraform-provider-utils"
subcategory: ""
description: |-
  Merge a list of YAML strings into a single YAML string, where maps are deep merged and list entries are compared against existing list entries and if all primitive values match, the entries are deep merged. YAML !env tags can be used to resolve values from environment variables.
---

# utils_yaml_merge (Data Source)

Merge a list of YAML strings into a single YAML string, where maps are deep merged and list entries are compared against existing list entries and if all primitive values match, the entries are deep merged. YAML `!env` tags can be used to resolve values from environment variables.

## Example Usage

```terraform
/* 
export ELEM1=value1
*/

locals {
  yaml_1 = <<-EOT
    root:
      elem1: !env ELEM1
      child1:
        cc1: 1
    list:
      - name: a1
        map:
          a1: 1
          b1: 1
      - name: a2
  EOT

  yaml_2 = <<-EOT
    root:
      elem2: value2
      child1:
        cc2: 2
    list:
      - name: a1
        map:
          a2: 2
      - name: a3
  EOT
}

data "utils_yaml_merge" "example" {
  input = [local.yaml_1, local.yaml_2]
}

output "output" {
  value = data.utils_yaml_merge.example.output
}

/* 
output = <<-EOT
  list:
      - map:
          a1: 1
          a2: 2
          b1: 1
        name: a1
      - name: a2
      - name: a3
  root:
      child1:
          cc1: 1
          cc2: 2
      elem1: value1
      elem2: value2
EOT
*/
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `input` (List of String) A list of YAML strings that is merged into the `output` attribute.

### Optional

- `merge_list_items` (Boolean) Merge list entries if all primitive values match. Default value is `true`.

### Read-Only

- `id` (String) Hexadecimal encoding of the checksum of the output.
- `output` (String) The merged output.


